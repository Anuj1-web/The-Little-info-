<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Search - The Little Info</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-container">
      <img src="logo.png" alt="Site Logo" class="site-logo" />
      <nav>
        <a href="index.html">Home</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="search.html" class="active">Search</a>
        <a href="profile.html">Profile</a>
        <label class="theme-toggle">
          <input type="checkbox" id="themeSwitch">
          <span class="slider"></span>
        </label>
      </nav>
    </div>
  </header>

  <!-- Search Section -->
  <main class="section-container">
    <h1>Search Content</h1>
    <div class="search-controls">
      <input type="text" id="searchInput" placeholder="Search content..." />
      <select id="categoryFilter">
        <option value="all">All</option>
        <option value="trending">Trending</option>
        <option value="traditional">Traditional</option>
      </select>
    </div>
    <div id="resultsContainer" class="grid-container fade-in"></div>
  </main>

  <script type="module">
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const resultsContainer = document.getElementById('resultsContainer');

    const contentList = [
      {
        title: "The Rise of AI",
        description: "An introduction to artificial intelligence.",
        category: "trending",
        type: "video",
        url: "videos/ai-intro.mp4"
      },
      {
        title: "Cultural Heritage of India",
        description: "Discover traditional Indian values.",
        category: "traditional",
        type: "image",
        url: "images/heritage.jpg"
      }
    ];

    function renderResults() {
      const query = searchInput.value.toLowerCase();
      const filter = categoryFilter.value;

      const filtered = contentList.filter(item => {
        return (
          (filter === "all" || item.category === filter) &&
          (item.title.toLowerCase().includes(query) || item.description.toLowerCase().includes(query))
        );
      });

      resultsContainer.innerHTML = "";

      if (filtered.length === 0) {
        resultsContainer.innerHTML = "<p>No content found.</p>";
        return;
      }

      filtered.forEach(item => {
        const card = document.createElement("div");
        card.className = "content-card fade-in";

        let media = "";
        if (item.type === "video") {
          media = `<video src="${item.url}" controls></video>`;
        } else if (item.type === "image") {
          media = `<img src="${item.url}" alt="${item.title}" />`;
        }

        card.innerHTML = `
          <h3>${item.title}</h3>
          <p>${item.description}</p>
          ${media}
          <p class="category-tag">${item.category}</p>
        `;

        resultsContainer.appendChild(card);
      });
    }

    searchInput.addEventListener("input", renderResults);
    categoryFilter.addEventListener("change", renderResults);
    window.addEventListener("DOMContentLoaded", renderResults);
  </script>

  <!-- Theme Toggle Script -->
  <script>
    const toggleSwitch = document.getElementById("themeSwitch");
    toggleSwitch.addEventListener("change", () => {
      document.documentElement.setAttribute("data-theme", toggleSwitch.checked ? "light" : "dark");
    });
  </script>
</body>
</html>
